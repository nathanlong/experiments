import"../modulepreload-polyfill-9p4a8sJU.js";import{M as a}from"../vendor-DES_rqDc.js";let S=0,k=document.querySelector(".score"),D=a.Engine,v=a.Render,B=a.Runner,u=a.Bounds,r=a.Bodies;a.Common;let L=a.Composite;a.Detector;a.Composites;let s=a.Vector;a.Events;let X=a.Mouse,c=D.create();c.world;let i=v.create({element:document.body,engine:c,options:{width:800,height:800,hasBounds:!0,background:"transparent",wireframeBackground:"transparent",wireframes:!1}});a.Render.setPixelRatio(i,"auto");i.context;let m=.9,d=600/5,h=1,T=2,x=4,C=[r.rectangle(100+d*0,150,100,100,{restitution:m,mass:1,label:"boxLight",timeScale:.6,defaultTimeScale:.6,sloMo:!1,collisionFilter:{category:x},render:{sprite:{texture:"https://user-images.githubusercontent.com/623568/268296749-90d36727-f61d-436f-aa6e-97037730cfbe.jpg",xScale:.333,yScale:.333}}}),r.rectangle(100+d*1,150,75,75,{restitution:m,timeScale:.6,defaultTimeScale:.6,sloMo:!1,mass:1.5,label:"boxMed",collisionFilter:{category:x},render:{sprite:{texture:"https://user-images.githubusercontent.com/623568/268296751-01556a5c-88e4-4d0e-a75a-bdfc453ff283.jpg",xScale:.3,yScale:.3}}}),r.rectangle(100+d*2,150,50,50,{restitution:m,mass:5,label:"boxHeavy",timeScale:.6,sloMo:!1,defaultTimeScale:.6,collisionFilter:{category:x},render:{sprite:{texture:"https://user-images.githubusercontent.com/623568/268296755-79991d1b-c446-4364-b5ce-54652f911215.jpg",xScale:.2,yScale:.2}}}),r.circle(100+d*3,150,50,{restitution:m,mass:.75,timeScale:.4,defaultTimeScale:.4,sloMo:!1,frictionAir:.05,label:"circle1",collisionFilter:{category:T},render:{sprite:{texture:"https://user-images.githubusercontent.com/623568/268296746-141a0a40-51ff-49e7-8e31-a7f4389e8f9e.png",xScale:.2,yScale:.2}}}),r.circle(100+d*4.5,150,70,{restitution:m,mass:.75,frictionAir:.05,label:"circle2",timeScale:.4,defaultTimeScale:.4,sloMo:!1,collisionFilter:{category:T},render:{fillColor:"red",sprite:{texture:"https://user-images.githubusercontent.com/623568/268296746-141a0a40-51ff-49e7-8e31-a7f4389e8f9e.png",xScale:.28,yScale:.28}}}),r.rectangle(400,-150,800,250,{isStatic:!0,label:"wallT",render:{fillStyle:"#000000"}}),r.rectangle(400,900,800,250,{isStatic:!0,label:"wallF",render:{fillStyle:"#000000"}}),r.rectangle(900,400,250,800,{isStatic:!0,label:"wallR",render:{fillStyle:"#000000"}}),r.rectangle(-100,400,250,800,{isStatic:!0,label:"wallL",render:{fillStyle:"#000000"}})];L.add(c.world,C);v.run(i);let Y=B.create();B.run(Y,c);let j=X.create(i.canvas);i.canvas.addEventListener("click",()=>{let e=j.position,t=a.Vector.create(e.x,e.y),n=a.Query.point(C,t);n[0]!==void 0&&H(n[0],t)});function H(e,t){let n=e.position.x-t.x,p=e.position.y-t.y,l=e.position.x-e.bounds.max.x,o=e.position.y-e.bounds.max.y,y=n/l,g=p/o;1e3/60/c.timing.lastDelta;let f=y*.5*(e.mass/2),b=g*.5*(e.mass/2);a.Body.applyForce(e,e.position,{x:-f,y:-b})}a.Events.on(c,"collisionStart",function(e){let t=e.pairs[0],n=t.bodyA.collisionFilter.category!==h,p=t.bodyB.collisionFilter.category!==h,l=t.bodyA,o=t.bodyB;Math.max(l.inertia,o.inertia);let y=s.mult(l.velocity,l.mass),g=s.mult(o.velocity,o.mass),f=s.sub(y,g),w=Math.max(f.x,f.y)>.02;if(n&&p&&w&&l.sloMo==!1&&o.sloMo==!1){l.timeScale=.05,o.timeScale=.05,l.sloMo=!0,o.sloMo=!0,l.render.opacity=.5,o.render.opacity=.5;let M=s.create(l.position.x,l.position.y),F=s.create(o.position.x,o.position.y),A=s.sub(M,F),R=s.div(A,2);s.sub(M,R),q(l.mass),P(l.mass),setTimeout(()=>{l.timeScale=l.defaultTimeScale,o.timeScale=o.defaultTimeScale,l.render.opacity=1,o.render.opacity=1},150);let E=setTimeout(()=>{l.sloMo=!1,o.sloMo=!1,V(E)},1e3)}});function V(e){clearTimeout(e)}function P(e=5){const t=e*4;u.translate(i.bounds,{x:t,y:-t}),setTimeout(()=>{u.translate(i.bounds,{x:-t*2,y:t})},20),setTimeout(()=>{u.translate(i.bounds,{x:0,y:t})},40),setTimeout(()=>{u.translate(i.bounds,{x:t*1.5,y:t})},60),setTimeout(()=>{u.translate(i.bounds,{x:-t*.5,y:-t*2})},80)}function q(e){S=S+e,k.innerHTML=S}
