var y=Object.defineProperty;var C=(a,t,e)=>t in a?y(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var h=(a,t,e)=>(C(a,typeof t!="symbol"?t+"":t,e),e);import"./modulepreload-polyfill-9p4a8sJU.js";class S{constructor(t){h(this,"handleClear",()=>{this.sortSearch&&(this.sortSearch.value=""),this.sortTag&&(this.sortTag.value=""),this.filterSort("","","")});h(this,"handleSearchChange",t=>{clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.handleChange()},500)});h(this,"handleChange",t=>{const e=this.sortSearch?this.sortSearch.value.toLowerCase():"",r=this.sortTag?this.sortTag.value:"";this.filterSort(e,r)});this.el=t,this.setVars(),this.bindEvents()}setVars(){this.sortSearch=this.el.querySelector("[data-filter-search]"),this.sortTag=this.el.querySelector("[data-filter-sort-tag]"),this.clear=this.el.querySelector("[data-filter-clear]"),this.entries=this.el.querySelectorAll("[data-filter-entry]"),this.sections=this.el.querySelectorAll("[data-filter-entry-section]"),this.timeout=null,this.fadeOut=[{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(5px)"}],this.fadeIn=[{opacity:0,transform:"translateY(5px)"},{opacity:1,transform:"translateY(0)"}],this.defaultTiming={duration:250,fill:"both",iterations:1,easing:"cubic-bezier(0.33, 1, 0.68, 1)"}}bindEvents(){this.sortSearch&&this.sortSearch.addEventListener("keyup",this.handleSearchChange),this.sortTag&&this.sortTag.addEventListener("change",this.handleChange),this.clear.addEventListener("click",this.handleClear)}filterSort(t,e){const r=Array.prototype.filter.call(this.entries,function(n){if(t===""&&e==="")return n;let o=!0,c=!0;return t!==""&&(o=n.innerHTML.toLowerCase().includes(t)),e!==""&&(c=n.dataset.tags.includes(e)),o&&c});this.sections.forEach(n=>{n.animate(this.fadeOut,this.defaultTiming).finished.then(()=>{this.entries.forEach(o=>{o.dataset.active=!1,r.forEach(c=>{c.dataset.active=!0})}),n.animate(this.fadeIn,this.defaultTiming)})})}}async function E(){const a="/experiments/postData.json",t=new Request(a),r=await(await fetch(t)).json();b(r)}function b(a){const t=document.querySelector("#content"),e=document.querySelector("#sort"),r=a,n=[];for(const l of Object.keys(r)){const s=r[l],i=document.createElement("article"),u=document.createElement("h2"),d=document.createElement("a"),f=document.createElement("p"),p=document.createElement("span"),m=document.createElement("p");s.tags.split(" ").forEach(g=>{n.push(g)}),d.textContent=s.title,f.textContent=s.description,p.textContent=s.date?s.date+" - ":"* - ",m.textContent=s.tags,f.prepend(p),d.setAttribute("href","/experiments"+s.url),m.setAttribute("class","filter-entry-tags"),u.appendChild(d),u.setAttribute("data-text",s.title),i.appendChild(u),i.appendChild(f),i.appendChild(m),t.appendChild(i),i.setAttribute("class","filter-entry"),i.setAttribute("data-tags",s.tags),i.setAttribute("data-filter-entry",""),i.setAttribute("data-active","true")}const o=n.filter(T);o.sort((l,s)=>l.localeCompare(s));for(const l of o){const s=document.createElement("option");s.textContent=l,s.value=l,e.appendChild(s)}const c=document.querySelector("[data-filter]");new S(c)}function T(a,t,e){return e.indexOf(a)===t}E();
